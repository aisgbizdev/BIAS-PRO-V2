// YouTube Complete Knowledge Base - SEO, Retention, Monetization
// Updated for 2025 - Awam-Friendly & Actionable

export const YouTubeKnowledge = {
  // ALGORITHM & SEO
  algorithm: {
    howItWorks: "YouTube algorithm prioritize 2 things: Click-Through Rate (CTR) dan Average View Duration (AVD). Semakin banyak orang klik + nonton lama = semakin sering recommend.",
    
    rankingFactors: [
      {
        factor: "Click-Through Rate (CTR)",
        importance: "CRITICAL for initial push",
        explanation: "% orang yang klik video kamu setelah lihat thumbnail + title",
        benchmark: {
          poor: "<2% CTR",
          average: "2-5% CTR",
          good: "5-10% CTR",
          excellent: ">10% CTR"
        },
        optimization: {
          thumbnail: [
            "Bright colors yang stand out (yellow, red, cyan)",
            "Close-up faces dengan expressive emotions",
            "Text overlay: 3-5 kata MAX (big, bold, readable)",
            "Consistent branding (same style/colors untuk recognition)"
          ],
          title: [
            "Front-load keywords (first 5 words most important)",
            "Create curiosity gap (promise outcome, don't reveal how)",
            "Numbers work: '7 Ways', '3 Mistakes', '$10,000 in...'",
            "Length: 50-60 characters optimal (full display in search)"
          ]
        }
      },
      {
        factor: "Average View Duration (AVD)",
        importance: "CRITICAL for sustained reach",
        explanation: "Average berapa lama viewers nonton video kamu",
        benchmark: {
          shortVideos: "50%+ AVD (e.g., 5 min video = 2.5+ min average)",
          longVideos: "40%+ AVD (e.g., 20 min video = 8+ min average)"
        },
        optimization: {
          scriptStructure: "Hook (0-15s) → Pattern interrupts every 60-90s → Payoff",
          pacing: "Cut pauses, remove 'umm/ehh', increase talking speed 1.1-1.2x",
          visuals: "Change camera angle/b-roll every 5-7 seconds",
          chapters: "Add timestamps - viewers can jump to relevant parts (still counts as watch time)"
        }
      },
      {
        factor: "Engagement Signals",
        importance: "HIGH (feedback to algorithm)",
        explanation: "Likes, comments, shares, subscribes",
        howToBoost: [
          "Explicit CTA mid-video: 'If you found this helpful, like the video'",
          "Pin comment dengan question untuk early engagement",
          "End screen: 'Watch this next' (keep viewers on your channel)",
          "Community tab: Tease upcoming videos, build anticipation"
        ]
      }
    ],
    
    searchOptimization: {
      keywordResearch: {
        tools: [
          "YouTube search autocomplete (free, reflects real searches)",
          "TubeBuddy / VidIQ (browser extensions, keyword scores)",
          "Google Trends (identify rising topics)"
        ],
        strategy: "Target 'low competition, high search volume' keywords untuk small channels. As you grow, compete for bigger keywords."
      },
      
      titleFormulas: [
        "How to [Desired Outcome] [With/Without Condition]",
        "[Number] Ways to [Solve Problem] (Even if [Objection])",
        "Why [Common Belief] is Wrong (And What to Do Instead)",
        "I Tried [Thing] for [Time Period] - Here's What Happened",
        "[Year] Guide to [Topic] - [Specific Benefit]"
      ],
      
      descriptionOptimization: {
        structure: "First 2-3 lines: Summary (shows in preview), Keywords natural, Timestamps, Links",
        keywords: "Include 3-5 keyword variations naturally in first paragraph",
        length: "Longer descriptions (300+ words) index better, but front-load value",
        links: "Own website, social media, affiliate (in that priority order)"
      },
      
      tags: {
        myth: "Tags punya weight sangat kecil di 2025 algorithm",
        reality: "Use tags, but focus energy on title/thumbnail/retention",
        strategy: "8-12 tags: Brand name, exact keyword, variations, broader category"
      }
    }
  },
  
  // CONTENT STRATEGY
  contentTypes: {
    tutorials: {
      format: "Problem → Solution steps → Result demonstration",
      retention: "Tease final result in first 15 seconds, show process, reveal outcome at end",
      length: "8-15 minutes sweet spot (long enough for ads, short enough to maintain retention)",
      monetization: "High advertiser demand for educational content = higher CPM"
    },
    
    vlogs: {
      format: "Day-in-the-life, behind-the-scenes, personal stories",
      retention: "Story arc: Setup → Conflict/Challenge → Resolution",
      length: "10-20 minutes (build parasocial relationships)",
      audience: "Requires existing fanbase - not ideal for growth phase"
    },
    
    listicles: {
      format: "'Top 10 [Things]', '7 Best [Products]', '5 Mistakes [Topic]'",
      retention: "Pattern: Tease full list → Reveal one at a time → Recap",
      length: "10-12 minutes (1-1.5 min per item)",
      monetization: "High affiliate potential - can link products in description"
    },
    
    commentary: {
      format: "React to news, trends, other content (with transformative commentary)",
      retention: "Clip → Pause → Add analysis → Repeat",
      length: "12-18 minutes (enough depth for meaningful commentary)",
      warning: "Fair use applies - must add significant commentary/criticism/analysis"
    },
    
    shorts: {
      format: "Vertical videos <60 seconds (YouTube's TikTok competitor)",
      strategy: "Funnel to long-form: Tease topic in Short, 'Full video on my channel'",
      frequency: "3-5 Shorts per week + 2-3 long-form = optimal mix",
      monetization: "Shorts fund separate from ad revenue, lower payout per view"
    }
  },
  
  // GROWTH STRATEGIES
  growth: {
    for0to1K: {
      goal: "Reach 1,000 subscribers (monetization eligibility requirement)",
      timeline: "3-6 months with consistent posting",
      strategy: [
        "Niche down HARD: Be the best at one specific thing",
        "Searchable content: Solve specific problems people Google",
        "Collaboration: Find creators at 1K-5K subs, collab ideas",
        "Cross-promote: Share YouTube on TikTok/IG, drive traffic",
        "Engage: Comment on bigger channels in your niche (thoughtful comments, build relationships)"
      ],
      metrics: "Post 2-3 videos/week, aim for 50+ subscribers/month"
    },
    
    for1Kto10K: {
      goal: "Build momentum & prepare for monetization",
      strategy: [
        "Double down on top performers: Analyze your best 3 videos, create similar content",
        "Series format: 'Part 1, 2, 3' keeps viewers coming back",
        "Community tab: Post polls, updates (builds loyalty)",
        "Thumbnail A/B testing: Test different styles, track CTR",
        "Playlist strategy: Group related videos (increases session time)"
      ],
      metrics: "Target 200-500 new subs/month, 10K+ views/month"
    },
    
    for10Kto100K: {
      goal: "Scale & diversify revenue",
      strategy: [
        "Increase production value: Better lighting, audio, editing",
        "Hire editor (free up time for strategy & scripting)",
        "Multiple revenue streams: AdSense + Sponsors + Affiliates + Products",
        "Strategic collaborations: Bigger creators (50K-200K subs)",
        "Data-driven decisions: Deep dive YouTube Analytics weekly"
      ],
      metrics: "1,000-3,000 new subs/month, 100K+ views/month"
    },
    
    postingSchedule: {
      beginner: "1-2 videos/week, same day/time (build viewer habit)",
      intermediate: "2-3 videos/week + 3-5 Shorts/week",
      advanced: "3-4 long-form/week + daily Shorts",
      consistency: "Algorithm rewards regularity. Better 1 video/week for 52 weeks than 52 videos in 1 month."
    }
  },
  
  // MONETIZATION
  monetization: {
    requirements: {
      partnerProgram: [
        "1,000 subscribers",
        "4,000 watch hours in past 12 months",
        "Comply with policies (no strikes)",
        "2-factor authentication enabled",
        "AdSense account linked"
      ],
      applicationProcess: "Apply via YouTube Studio → Monetization tab. Review takes 1-4 weeks."
    },
    
    revenueStreams: {
      adRevenue: {
        cpm: "$1-$10 per 1,000 views (varies by niche, geography, season)",
        niches: {
          high: "Finance, Tech, Business ($8-$15 CPM)",
          medium: "Lifestyle, Education ($3-$7 CPM)",
          low: "Gaming, Vlogging ($1-$3 CPM)"
        },
        calculation: "100K views/month × $5 CPM = $500/month ad revenue (example)"
      },
      
      sponsorships: {
        when: "10K+ subscribers (brands start reaching out)",
        rates: "Micro ($100-$500), Mid-tier ($500-$2K), Top-tier ($2K-$10K+) per video",
        howToAttract: "Media kit (stats, demographics, past work), professional email pitch, negotiate terms"
      },
      
      affiliateMarketing: {
        platforms: "Amazon Associates, ClickBank, ShareASale, niche-specific programs",
        strategy: "Review/tutorial videos → Link products in description → Earn commission on sales",
        disclosure: "Must disclose: 'Links below are affiliate links' (FTC requirement)"
      },
      
      digitalProducts: {
        types: "Courses, ebooks, templates, presets, memberships",
        when: "5K+ engaged subscribers (audience knows/trusts you)",
        pricing: "$27-$197 for courses, $7-$47 for smaller products",
        platform: "Gumroad, Teachable, Patreon for easy setup"
      },
      
      channelMemberships: {
        requirement: "30K+ subscribers (or 1K for gaming channels)",
        pricing: "$0.99-$49.99/month (you set tiers)",
        perks: "Badges, emojis, exclusive content, early access",
        conversion: "1-5% of subscribers become members typically"
      }
    }
  },
  
  // RETENTION MASTERCLASS
  retention: {
    hookFormulas: {
      curiosityGap: "In this video, I'll show you how I [desirable result]. But first, let me show you the biggest mistake people make...",
      shock: "I can't believe this actually worked. [Show surprising result for 3 seconds] Let me explain exactly what I did.",
      challenge: "Most people think [common belief]. I tested this for 30 days and the results were completely different. Here's what happened...",
      story: "Three months ago, I was [relatable struggle]. Today, [achievement]. This is the exact process I used."
    },
    
    patternInterrupts: {
      every60to90seconds: [
        "Change camera angle or location",
        "Insert b-roll footage",
        "Text overlay with key point",
        "Music change (background track switch)",
        "Visual effect (zoom, transition)",
        "Pose a question to viewer ('Have you experienced this?')"
      ],
      purpose: "Prevent monotony → Keep attention → Reduce drop-off"
    },
    
    retentionGraphAnalysis: {
      howToRead: "YouTube Studio → Analytics → Engagement → Audience retention graph",
      whatToLookFor: [
        "Big drop in first 30s = Hook problem (fix intro)",
        "Gradual decline = Normal (but aim to minimize)",
        "Sharp drops mid-video = Pacing issue or boring section (cut that part)",
        "Spike upward = Re-watch moment (figure out why, replicate)"
      ],
      action: "Every video, check retention. Identify 1 improvement for next video."
    },
    
    editingTechniques: {
      cutPauses: "Remove all dead air > 1 second. Fast pacing = modern YouTube",
      jumpCuts: "Cut to same angle frequently (keeps energy high)",
      bRoll: "Show what you're talking about (don't just talk to camera)",
      subtitles: "Captions increase retention 15-20% (accessibility + watch without sound)",
      soundDesign: "Background music (low volume), sound effects for transitions"
    }
  },
  
  // TROUBLESHOOTING
  commonIssues: {
    "Views stuck at 100-300": {
      diagnosis: [
        "Check CTR: <2% = thumbnail/title problem",
        "Check AVD: <30% = retention/content problem",
        "Check impressions: <1000 = not being shown (SEO/keyword issue)"
      ],
      fixes: [
        "Redesign thumbnail with more contrast/emotion",
        "Rewrite title with stronger hook/keywords",
        "Improve first 30 seconds of video (hook)",
        "Research better keywords (less competition)"
      ]
    },
    
    "Subscribers not watching new videos": {
      cause: "Low notification click-through (subscribers not notified or ignoring)",
      fixes: [
        "Ask viewers to 'turn on notifications' mid-video",
        "Post in Community tab when new video drops",
        "Consistent upload schedule (train audience when to expect)",
        "Thumbnail/title must excite existing audience too (not just SEO)"
      ]
    },
    
    "High CTR but low AVD": {
      diagnosis: "Clickbait title/thumbnail but content doesn't deliver",
      danger: "Algorithm will stop promoting (viewer dissatisfaction signal)",
      fix: "Match thumbnail/title promise to actual content. Deliver on hook quickly."
    }
  },
  
  // 2025 TRENDS
  trends2025: {
    algorithmShifts: [
      "Shorts-to-long-form funnel: Algorithm pushing viewers from Shorts to creator's long-form",
      "Podcast-style content rising: Long-form conversations (60+ min) performing well",
      "Authenticity over production: Raw, unedited content competitive with high-production"
    ],
    
    features: [
      "AI-powered tools: Auto-dubbing (multi-language), AI chapters, thumbnail suggestions",
      "Shopping integration: Tag products directly in video (affiliate on steroids)",
      "Handles (@username): Easier discovery, cross-platform consistency"
    ],
    
    contentOpportunities: [
      "Long-form tutorials (15-30 min) = high ad revenue",
      "Compilation content (with transformative commentary)",
      "Educational series (episodic format, binge-worthy)",
      "Documentary-style storytelling"
    ]
  }
};

export function getYouTubeTip(topic: string): string {
  const tips: Record<string, string> = {
    ctr: "Thumbnail: bright colors, close-up face, 3-5 word text. Title: front-load keywords, create curiosity, 50-60 chars",
    retention: "Hook in first 15s, pattern interrupt every 60-90s, cut all pauses, show don't tell with b-roll",
    seo: "Keyword research with autocomplete, front-load title, optimize first 2 lines of description, use timestamps",
    growth: "2-3 videos/week, niche down, searchable content, engage in niche, cross-promote on TikTok/IG",
    monetization: "Reach 1K subs + 4K watch hours. Diversify: AdSense + sponsors + affiliates + products"
  };
  
  return tips[topic.toLowerCase()] || "Topic not found. Try: ctr, retention, seo, growth, monetization";
}
